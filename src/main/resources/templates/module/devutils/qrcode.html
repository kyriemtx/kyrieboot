<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <title>二维码生成器</title>
    <link th:href="@{/static/css/layui/layui.css}" rel="stylesheet">
    <link th:href="@{/static/css/style.css}" rel="stylesheet">
    <link th:href="@{/static/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/static/css/layer/layer.css}" rel="stylesheet">
    <link th:href="@{/static/css/layui/admin.css}" rel="stylesheet">
    <link th:href="@{/static/css/element-ui.2.13.0.css}" rel="stylesheet">
    <link th:href="@{/static/css/font-awesome.min.css}" rel="stylesheet">
</head>
<body>
<div align="center">
    <textarea placeholder="请输入二维码内容" rows="10" cols="50" ></textarea>
    <br>
    <button class="btn btn-success"><span>生成二维码</span></button><br>
    <span class="hint"></span>
    <div class="qrCodeDiv">
        <img src="" th:src="@{/qrcode/createQRCode}" id="codeImg">
    </div>
</div>
</body>
<script th:src="@{/static/js/jquery.1.12.4.min.js}"></script>
<script th:src="@{/static/js/layui/layui.js}"></script>
<script th:src="@{/static/js/jquery.validate.min.js}"></script>
<script th:src="@{/static/js/layui/lay/modules/layer.js}"></script>
<script th:src="@{/static/js/vue.2.6.11.js}"></script>
<script th:src="@{/static/js/element-ui.2.13.0.js}"></script>
<script type="text/javascript">
    $(function () {
        $("button").click(function () {
            var codeContent = $("textarea").val();
            console.log(codeContent);
            if (codeContent.trim() == "") {
                $(".hint").text("二维码内容不能为空").fadeIn(500);
            } else {
                $(".hint").text("").fadeOut(500);
                $("#codeImg").attr("src", "/kyrie/qrcode/createQRCode?codeContent=" + codeContent);
            }
        });
    });
</script>
<style type="text/css">
    textarea {
        font-size: 16px;
        width: 300px;
        height: 100px;
    }

    .hint {
        color: red;
        display: none;
    }

    .qrCodeDiv {
        width: 300px;
        height: 300px;
        border: 2px solid sandybrown;
    }

    .qrCodeDiv img {
        max-height: 100%;
        max-width: 100%;
    }
</style>
</html>